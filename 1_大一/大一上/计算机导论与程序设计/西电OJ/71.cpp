#include<stdio.h>
#include<algorithm>
using namespace std;
 int main()
 {
  int n,m,t,k,a[20][20],b[2],c[2],d[50],i,j,s=0,S=0,e;
  scanf("%d%d%d%d",&n,&m,&t,&k);
  for(i=1;i<=n;i++)
  {
  	for(j=1;j<=m;j++)
  	scanf("%d",&a[i][j]);
  }
  for(i=1;i<=n;i++)
  {
  	for(j=1;j<=m;j++)
  	{
  		if(a[i][j]==k)
  	    {
  		    b[0]=i;
  		    c[0]=j;
  		    e=1;
  		    break;
	    }
	}
	if(e==1)
	   break;
   }
  for(i=n;i>=1;i--)
  {
  	for(j=m;j>=1;j--)
  	{
  		if(a[i][j]==k)
  	    {
  		    b[1]=i;
  	  	    c[1]=j;
  		    e=2;
  		    break;
	    }
    }
    if(e==2)
	    break;
  }	
  if(b[0]>=2)
  {
  	for(i=c[0];i<=c[1];i++)
  	{
  		s++;
  		d[s]=a[b[0]-1][i];
	  }
  }
  if(b[1]<n)
  {
  	for(i=c[0];i<=c[1];i++)
  	{
  		s++;
  		d[s]=a[b[1]+1][i];
	  }
  }
  if(c[0]>=2)
  {
  	for(i=b[0];i<=b[1];i++)
  	{
  		s++;
  		d[s]=a[i][c[0]-1];
	  }
  }
   if(c[1]<m)
  {
  	for(i=b[0];i<=b[0];i++)
  	{
  		s++;
  		d[s]=a[i][c[1]+1];
	  }
  }
  sort(d+1,d+s+1);
  i=1;
  if(s==0)
    printf("0");
 else
 {
 	   while(i<=s-1)
    {
 	    if(d[i]==d[i+1])
 	        i++;
 	    else
 	    {
 	        S++;
 	        i++;
	    }
    }
    printf("%d",S+1);
 }
  
return 0;
}
